<?xml version="1.0" encoding="UTF-8"?>
<solver>
	<!--  <environmentMode>FULL_ASSERT</environmentMode>  -->
	<solutionClass>org.optaplanner.examples.batchscheduling.domain.Schedule</solutionClass>
	<entityClass>org.optaplanner.examples.batchscheduling.domain.Allocation</entityClass>
	<entityClass>org.optaplanner.examples.batchscheduling.domain.AllocationPath</entityClass>
	<scoreDirectorFactory>
		<!-- <easyScoreCalculatorClass>org.optaplanner.examples.batchscheduling.solver.score.BatchSchedulingEasyScoreCalculator</easyScoreCalculatorClass> -->
		<incrementalScoreCalculatorClass>org.optaplanner.examples.batchscheduling.solver.score.BatchSchedulingIncrementalScoreCalculator</incrementalScoreCalculatorClass>
		<!--<initializingScoreTrend>ANY</initializingScoreTrend> -->
		<!--<assertionScoreDirectorFactory> -->
		<!--<easyScoreCalculatorClass>org.optaplanner.examples.batchscheduling.solver.score.BatchSchedulingEasyScoreCalculator</easyScoreCalculatorClass> -->
		<!--</assertionScoreDirectorFactory>-->
	</scoreDirectorFactory>
	<termination>
		<minutesSpentLimit>12</minutesSpentLimit>
	</termination>
	<constructionHeuristic>
		<queuedEntityPlacer>
			<entitySelector id="placerEntitySelector">
				<cacheType>PHASE</cacheType>
				<selectionOrder>ORIGINAL</selectionOrder>
				<entityClass>org.optaplanner.examples.batchscheduling.domain.AllocationPath</entityClass>
			</entitySelector>
			<changeMoveSelector>
				<entitySelector	mimicSelectorRef="placerEntitySelector"/>
			</changeMoveSelector>
		</queuedEntityPlacer>
	</constructionHeuristic>
	<constructionHeuristic>"src/main/resources/org/optaplanner/examples/batchscheduling/solver/batchSchedulingSolverConfig.xml"
		<queuedEntityPlacer>
			<entitySelector id="placerEntitySelector">
				<cacheType>PHASE</cacheType>
				<selectionOrder>ORIGINAL</selectionOrder>
				<entityClass>org.optaplanner.examples.batchscheduling.domain.Allocation</entityClass>
			</entitySelector>
			<changeMoveSelector>
				<entitySelector mimicSelectorRef="placerEntitySelector"/>
			</changeMoveSelector>
		</queuedEntityPlacer>
	</constructionHeuristic>
 	<localSearch>
		<unionMoveSelector>
			<changeMoveSelector>
				<entitySelector>
					<cacheType>PHASE</cacheType>
					<selectionOrder>ORIGINAL</selectionOrder>
					<entityClass>org.optaplanner.examples.batchscheduling.domain.AllocationPath</entityClass>
				</entitySelector>
				<valueSelector>
					<variableName>routePath</variableName>
				</valueSelector>
			</changeMoveSelector>
			<changeMoveSelector>
				<entitySelector>
					<cacheType>PHASE</cacheType>
					<selectionOrder>ORIGINAL</selectionOrder>
					<entityClass>org.optaplanner.examples.batchscheduling.domain.Allocation</entityClass>
				</entitySelector>
				<valueSelector>
					<variableName>delay</variableName>
					<!-- <cacheType>PHASE</cacheType> <selectionOrder>SORTED</selectionOrder> 
						<sorterManner>DECREASING_STRENGTH</sorterManner> -->
				</valueSelector>
			</changeMoveSelector>
		</unionMoveSelector>
		<acceptor>
			<entityTabuRatio>0.9</entityTabuRatio>
			<lateAcceptanceSize>200</lateAcceptanceSize>
		</acceptor>
		<forager>
			<acceptedCountLimit>1</acceptedCountLimit>
		</forager>
	</localSearch>
</solver>